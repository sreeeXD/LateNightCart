<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}LateNightCart{% endblock %}</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* LateNightCart Glow Effect */
    @keyframes glow {
      0%, 100% { text-shadow: 0 0 10px #facc15, 0 0 20px #facc15, 0 0 40px #facc15; }
      50% { text-shadow: 0 0 20px #fcd34d, 0 0 30px #fde68a, 0 0 60px #facc15; }
    }
    .glow-text { animation: glow 3s infinite ease-in-out; }

    /* Flash message fade animation */
    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; display: none; }
    }
    .fade-out {
      animation: fadeOut 1s ease-in-out 3s forwards;
    }

    /* Smooth scroll globally */
    html {
      scroll-behavior: smooth;
    }
  </style>
</head>

<body class="bg-gradient-to-b from-gray-900 via-black to-gray-950 text-white min-h-screen flex flex-col">

  <!-- Navbar (Shrinks on scroll, shown on all pages) -->
  <nav id="main-nav" class="fixed top-0 left-0 w-full bg-black/30 backdrop-blur-md z-50 border-b border-gray-800">
    <div class="flex justify-between items-center px-6 py-3">
      <a href="{{ url_for('home') }}" class="text-2xl font-extrabold text-yellow-400 glow-text hover:text-yellow-300 transition-all">
        LateNightCart
      </a>

      <div class="space-x-4 text-gray-300 text-sm">
        {% if session.get('logged_in') %}
          <a href="{{ url_for('snacks') }}" class="hover:text-yellow-400">Snacks</a>
          {% if session.get('role') == 'admin' %}
          <a href="{{ url_for('admin_dashboard') }}" class="hover:text-yellow-400">Admin</a>
          {% endif %}
          <a href="{{ url_for('logout') }}" class="hover:text-yellow-400">Logout</a>
        {% else %}
          <a href="{{ url_for('login') }}" class="hover:text-yellow-400">Login</a>
          <a href="{{ url_for('register') }}" class="hover:text-yellow-400">Register</a>
        {% endif %}
      </div>
    </div>
  </nav>

  <!-- Flash Messages -->
  <div class="fixed top-16 left-1/2 transform -translate-x-1/2 z-40 w-11/12 md:w-1/2">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="fade-out text-center px-4 py-3 rounded-lg mb-3
                      {% if category == 'success' %}bg-green-600/80{% elif category == 'danger' %}bg-red-600/80
                      {% elif category == 'warning' %}bg-yellow-500/80{% else %}bg-gray-700/80{% endif %}">
            {{ message }}
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}
  </div>

  <!-- Page-Specific Content -->
  <main class="flex-grow pt-20 pb-10">
    {% block content %}{% endblock %}
  </main>

  <!-- Footer -->
  <footer class="text-center text-gray-500 text-sm py-5 borde
