{% extends "base.html" %}
{% block title %}Edit Snack - LateNightCart{% endblock %}
{% block content %}

<section class="px-4 md:px-10 pt-24 pb-16 min-h-screen">
  <div class="max-w-2xl mx-auto bg-gray-800/80 backdrop-blur-lg border border-gray-700 rounded-2xl p-8 shadow-2xl">
    <h2 class="text-3xl font-extrabold text-center text-yellow-400 mb-6 glow-text">
      âœï¸ Edit Snack
    </h2>

    <form method="POST" action="{{ url_for('edit_snack', snack_id=snack.id) }}" enctype="multipart/form-data" class="space-y-6">
      <!-- Name -->
      <div>
        <label for="name" class="block text-sm text-gray-300 mb-2">Snack Name</label>
        <input type="text" name="name" id="name" value="{{ snack.name }}"
               class="w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg
                      focus:outline-none focus:ring-2 focus:ring-yellow-400 text-white" required>
      </div>

      <!-- Price -->
      <div>
        <label for="price" class="block text-sm text-gray-300 mb-2">Price (â‚¹)</label>
        <input type="number" step="0.01" name="price" id="price" value="{{ snack.price }}"
               class="w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg
                      focus:outline-none focus:ring-2 focus:ring-yellow-400 text-white" required>
      </div>

      <!-- Quantity -->
      <div>
        <label for="quantity" class="block text-sm text-gray-300 mb-2">Quantity</label>
        <input type="number" name="quantity" id="quantity" value="{{ snack.quantity }}"
               class="w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg
                      focus:outline-none focus:ring-2 focus:ring-yellow-400 text-white" required>
      </div>

      <!-- Image Upload -->
      <div>
        <label for="image" class="block text-sm text-gray-300 mb-2">Change Snack Image (optional)</label>
        <input type="file" name="image" id="image"
               class="w-full text-gray-300 bg-gray-900 border border-gray-700 rounded-lg
                      file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0
                      file:bg-yellow-500 file:text-black hover:file:bg-yellow-400 transition">
        {% if snack.image_url %}
          <div class="mt-4 text-center">
            <img src="{{ snack.image_url }}" alt="Current Image"
                 class="w-48 h-32 object-cover mx-auto rounded-lg border border-gray-700">
            <p class="text-gray-400 text-sm mt-2">Current Image</p>
          </div>
        {% endif %}
      </div>

      <!-- Submit -->
      <button type="submit"
              class="w-full bg-yellow-500 hover:bg-yellow-400 text-black font-semibold py-2 rounded-lg transition duration-200">
        ğŸ’¾ Save Changes
      </button>

      <div class="text-center mt-4">
        <a href="{{ url_for('manage_snack') }}" class="text-yellow-400 hover:underline text-sm">â¬… Back to Manage Snacks</a>
      </div>
    </form>
  </div>
</section>

{% endblock %}
